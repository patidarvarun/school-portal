"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[506],{45506:function(e,i,n){n.r(i);var a=n(15861),r=n(70885),t=n(64687),s=n.n(t),l=n(47313),o=(n(47623),n(91905)),d=n(33711),c=n(31387),m=n(82937),u=n(62463),h=n(42669),x=n(29266),p=n(35553),j=n(48569),Z=n(73477),v=n(28089),f=n(79429),g=n(10688),b=n(37594),w=n(46417);i.default=function(){var e=(0,l.useState)(!1),i=(0,r.Z)(e,2),n=i[0],t=i[1];return(0,w.jsx)(o.Z,{children:(0,w.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,w.jsx)(m.ZP,{item:!0,xs:12,children:(0,w.jsx)(u.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:(0,w.jsx)(h.Z,{variant:"h3",children:"Create New Password"})})}),(0,w.jsx)(m.ZP,{item:!0,xs:12,children:(0,w.jsx)(f.J9,{initialValues:{email:""},validationSchema:v.Ry().shape({email:v.Z_().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:function(){var e=(0,a.Z)(s().mark((function e(i,n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setErrors,a={email:i.email},t(!0),e.next=5,d.Z.post("http://103.127.29.85:3001/api/sendMail",a).then((function(e){var i;200===(null===e||void 0===e?void 0:e.status)?(c.Am.success("Link has been sent to your mail"),localStorage.setItem("resetToken",null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.resetToken),window.location.replace(e.data.PreviewURL)):console.log("something went wrong")})).catch((function(e){c.Am.error(e.response.data.Message)}));case 5:t(!1);case 6:case"end":return e.stop()}}),e)})));return function(i,n){return e.apply(this,arguments)}}(),children:function(e){var i=e.errors,a=e.handleBlur,r=e.handleChange,t=e.handleSubmit,s=e.isSubmitting,l=e.touched,o=e.values;return(0,w.jsx)("form",{noValidate:!0,onSubmit:t,children:(0,w.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,w.jsx)(m.ZP,{item:!0,xs:12,children:(0,w.jsxs)(u.Z,{spacing:1,children:[(0,w.jsx)(x.Z,{htmlFor:"email-login",children:"Email Address"}),(0,w.jsx)(p.Z,{id:"email-login",type:"email",value:o.email,name:"email",onBlur:a,onChange:r,placeholder:"Enter email address",fullWidth:!0,error:Boolean(l.email&&i.email)}),l.email&&i.email&&(0,w.jsx)(j.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.email})]})}),i.submit&&(0,w.jsx)(m.ZP,{item:!0,xs:12,children:(0,w.jsx)(j.Z,{error:!0,children:i.submit})}),(0,w.jsx)(m.ZP,{item:!0,xs:12,children:(0,w.jsx)(g.Z,{children:n?(0,w.jsx)(b.O,{}):(0,w.jsx)(Z.Z,{disableElevation:!0,disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Send Link"})})})]})})}})})]})})}}}]);